(function(){"use strict";var e={385:function(e,t,o){var n=o(963),r=o(252),l=o(262),s=o(119);const a={key:0},i={key:1,class:"xl:max-w-screen-2xl mx-auto md:pt-8 sm:pt-0"};var c={setup(e){const t=(0,r.Fl)((()=>(0,s.yj)().name));return(e,o)=>{const n=(0,r.up)("router-view");return"Screen"==(0,l.SU)(t)||"Admin Screen"==(0,l.SU)(t)?((0,r.wg)(),(0,r.iD)("div",a,[(0,r.Wm)(n)])):((0,r.wg)(),(0,r.iD)("div",i,[(0,r.Wm)(n)]))}}};const d=c;var u=d,m=o(391);const g=(0,m.Z)();var v=o(577);const p={class:"bg-proto_green md:flex shadow md:rounded-sm px-4 py-5 sm:p-6"};function w(e,t){return(0,r.wg)(),(0,r.iD)("div",p,[(0,r.WI)(e.$slots,"default")])}var x=o(744);const f={},h=(0,x.Z)(f,[["render",w]]);var k=h;const y={class:"fixed z-10 inset-0 overflow-y-auto sm:-to","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},b={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},_=(0,r._)("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1),C={class:"inline-block text-center transform transition-all align-middle"},j=(0,r._)("div",null,[(0,r._)("div",{class:"center"},[(0,r._)("div",{class:"circle2"}),(0,r._)("div",{class:"circle2"})])],-1),z={class:"text-gray-200 text-xl mt-4"};var D={props:{message:String,opacity:Number},setup(e){const t=e,o=(0,r.Fl)((()=>"bg-opacity-"+t.opacity));return(t,n)=>((0,r.wg)(),(0,r.iD)("div",y,[(0,r._)("div",b,[(0,r._)("div",{class:(0,v.C_)(["fixed inset-0 bg-proto_background_gray-dark transition-opacity",(0,l.SU)(o)]),"aria-hidden":"true"},null,2),_,(0,r._)("div",C,[j,(0,r._)("div",z,(0,v.zw)(e.message),1)])])]))}};const S=D;var H=S;const M={class:"fixed z-10 inset-0 overflow-y-auto sm:-to","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},U={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},W=(0,r.uE)('<span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">​</span><div class="inline-block text-center transform transition-all align-middle"><svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg><div class="text-gray-200 text-xl mt-4 flex justify-center"><span class="my-auto"> No active session found! Please log in on </span><a href="https://proto.utwente.nl" target="_blank" class="ml-1 p-2 bg-proto_green rounded-md hover:bg-opacity-80 flex"> proto.utwente.nl <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg></a></div><span class="text-red-600 mx-auto max-w-lg"> Dev-code: inspect the storage on the saproto site, go to cookies and locate the &#39;proto_session&#39; cookie. <br> Change the HttpOnly value to false and the domain to &#39;localhost&#39;. It should then disappear on the saproto site and <br> show up on the protube dev-site. Refresh this page after. </span></div>',2);function T(e,t){return(0,r.wg)(),(0,r.iD)("div",M,[(0,r._)("div",U,[(0,r._)("div",{class:(0,v.C_)(["fixed inset-0 bg-proto_background_gray-dark transition-opacity",e.background_opacity]),"aria-hidden":"true"},null,2),W])])}const B={},F=(0,x.Z)(B,[["render",T]]);var V=F;const L={class:"fixed z-10 inset-0 overflow-y-auto sm:-to","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},I={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},E=(0,r._)("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1),P={class:"inline-block text-center transform transition-all align-middle"},O=(0,r._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-20 w-20 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),A={class:"text-gray-200 text-xl mt-4 flex justify-center"},q={class:"my-auto"};var N={props:{message:String},setup(e){return(t,o)=>((0,r.wg)(),(0,r.iD)("div",L,[(0,r._)("div",I,[(0,r._)("div",{class:(0,v.C_)(["fixed inset-0 bg-proto_background_gray-dark transition-opacity",t.background_opacity]),"aria-hidden":"true"},null,2),E,(0,r._)("div",P,[O,(0,r._)("div",A,[(0,r._)("span",q,(0,v.zw)(e.message),1)])])])]))}};const Y=N;var Q=Y;const K=window.io=o(46);var Z;function R(e){const t="http://localhost:3000/socket/admin";Z=new K(t,{auth:{token:e},timeout:2e3,forceNew:!0,reconnection:!1,autoConnect:!1}),Z.connect(),Z.on("disconnect",(e=>{console.log("disconnected socket: "+e)})),Z.on("connect_error",(e=>{console.log(e);let t="Unknown error occurred";"Error: Not authorized"==e&&(t="Unauthorized!"),g.emit("admin-socket-connect-error",{reason:t})})),Z.on("connect",(()=>{g.emit("admin-socket-connect-success")})),Z.on("admin-newscreencode",(e=>{g.emit("admin-newscreencode",e)}))}async function $(){return console.log("requested screencode"),new Promise((e=>{Z.emit("get_screen_code",(t=>{e(t)}))}))}async function G(){return new Promise((e=>{Z.emit("get-user-data",(t=>{e(t)}))}))}const J=window.io=o(46);var X;function ee(e){const t="http://localhost:3000/socket/user";X=new J(t,{auth:{token:e},timeout:2e3,forceNew:!0,reconnection:!1,autoConnect:!1}),X.connect(),X.on("disconnect",(e=>{console.log("disconnected socket: "+e)})),X.on("connect_error",(e=>{let t="Unknown error occurred";"Error: Not authorized"==e&&(t="Unauthorized!"),g.emit("user-socket-connect-error",{reason:t})})),X.on("connect",(()=>{console.log("success!"),g.emit("user-socket-connect-success")}))}async function te(){return new Promise((e=>{X.emit("get-user-data",(t=>{e(t)}))}))}var oe={props:{admin:{type:Boolean,default:!1}},setup(e){const t=e,o=(0,l.iH)(!1),s=(0,l.iH)(!0),a=(0,l.iH)(!1);function i(){for(var e=document.cookie.split(";"),n=0;n<e.length;n++){let r=e[n].split("=");if(r[0].includes("proto_session"))return o.value=!0,s.value=!1,t.admin?void R(r[1]):void ee(r[1])}}return i(),g.on("admin-socket-connect-error",(e=>{a.value=e.reason})),g.on("admin-socket-connect-success",(()=>{o.value=!1})),g.on("user-socket-connect-success",(()=>{o.value=!1})),g.on("user-socket-connect-error",(e=>{a.value=e.reason})),(e,t)=>((0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(n.uT,{name:"modal",appear:""},{default:(0,r.w5)((()=>[o.value?((0,r.wg)(),(0,r.j4)(H,{key:0,message:"Authenticating...",opacity:100})):(0,r.kq)("",!0)])),_:1}),s.value?((0,r.wg)(),(0,r.j4)(V,{key:0})):(0,r.kq)("",!0),(0,r.Wm)(n.uT,{name:"modal",appear:""},{default:(0,r.w5)((()=>[a.value?((0,r.wg)(),(0,r.j4)(Q,{message:a.value,key:a.value},null,8,["message"])):(0,r.kq)("",!0)])),_:1})]))}};const ne=oe;var re=ne;const le={class:"flex-1"},se=(0,r._)("h3",{class:"leading-6 font-medium text-white text-2xl"},"Protube playlist panel",-1),ae=(0,r._)("div",{class:"mt-2 max-w-xl text-sm text-gray-200"},[(0,r._)("p",null,"Search for any song on YouTube and add it to the Protube playlist")],-1),ie={class:"w-full h-10 flex group md:max-w-md"},ce=["disabled"],de=(0,r._)("svg",{class:"w-5 h-5 mx-1",id:"searchIcon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),ue=[de],me={class:"flex-shrink-0 mr-6 ml-2 justify-center mb-6 mt-auto"},ge={key:0,class:"text-white text-2xl my-2"},ve={class:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-2 xl:grid-cols-4 gap-2"},pe=(0,r.Uk)("Admin remote"),we=(0,r.Uk)("Admin screen"),xe=(0,r.Uk)("Statistics"),fe=["src"];var he={setup(e){const t=(0,l.iH)(""),s=(0,l.iH)(!1),a=(0,l.iH)({username:null,isAdmin:!1});function i(){""!=t.value&&g.emit("fetchVideos",t.value)}return g.on("user-socket-connect-success",(async()=>{var e=await te();a.value.username=e.username,a.value.isAdmin=e.isAdmin})),(e,l)=>{const c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(k,null,{default:(0,r.w5)((()=>[(0,r._)("div",le,[se,ae,(0,r._)("form",{onSubmit:i,onsubmit:"return false",class:"mt-5 flex sm:items-center"},[(0,r._)("div",ie,[(0,r.wy)((0,r._)("input",{minlength:"1","onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e),class:"bg-white min-w-min placeholder-gray-500 focus:placeholder-gray-600 text-gray-700 pl-2 rounded-l-md border border-gray-400 outline-none w-full",placeholder:"Search"},null,512),[[n.nr,t.value]]),(0,r._)("button",{disabled:!t.value,class:(0,v.C_)([t.value?"hover:bg-search_button_background hover:border-search_button_border hover:text-white":"cursor-default opacity-80","inline-flex items-center mx-auto justify-center p-2 border shadow-sm font-medium rounded-r-md dark:bg-search_button_background-dark dark:border-search_button_background-dark bg-search_button_background-light focus:outline-none focus:bg-search_button_background focus:text-white dark:text-white focus:border-search_button_border"])},ue,10,ce)]),s.value?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("button",{key:0,onClick:l[1]||(l[1]=e=>s.value=!0),class:"py-2 ml-4 px-4 bg-proto_blue text-white hover:opacity-80 rounded-md"},"Login"))],32)]),(0,r._)("div",me,[s.value?((0,r.wg)(),(0,r.iD)("div",ge," Welcome "+(0,v.zw)(a.value.username)+"!",1)):(0,r.kq)("",!0),(0,r._)("div",ve,[s.value&&a.value.isAdmin?((0,r.wg)(),(0,r.j4)(c,{key:0,to:"/remote/admin",class:"text-center py-2 px-4 bg-proto_blue text-white hover:opacity-80 rounded-md"},{default:(0,r.w5)((()=>[pe])),_:1})):(0,r.kq)("",!0),s.value&&a.value.isAdmin?((0,r.wg)(),(0,r.j4)(c,{key:1,to:"/screen/admin",class:"text-center py-2 px-4 bg-proto_blue text-white hover:opacity-80 rounded-md"},{default:(0,r.w5)((()=>[we])),_:1})):(0,r.kq)("",!0),s.value?((0,r.wg)(),(0,r.j4)(c,{key:2,to:"/statistics",class:"text-center py-2 px-4 bg-proto_blue text-white hover:opacity-80 rounded-md"},{default:(0,r.w5)((()=>[xe])),_:1})):(0,r.kq)("",!0)])]),(0,r._)("div",{class:(0,v.C_)([s.value?"lg:block":"md:block","hidden lg:block flex-shrink-0 mr-6 my-auto"])},[(0,r._)("img",{class:"w-30 h-0 md:h-32 object-cover flex-shrink-0 mx-auto",src:o(114)},null,8,fe)],2)])),_:1}),s.value?((0,r.wg)(),(0,r.j4)(re,{key:0})):(0,r.kq)("",!0)],64)}}};const ke=he;var ye=ke,be=o(38);const _e=["disabled"],Ce={class:"font-bold dark:text-true_gray-300 text-gray-800 text-left text-md"},je={class:"mt-auto w-full"},ze={class:"flex-1 text-gray-900 justify-bottom align-bottom mt-auto flex text-right"},De=(0,r._)("svg",{class:"align flex-shrink-0 mr-1.5 h-5 w-5 dark:text-true_gray-300",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[(0,r._)("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"})],-1),Se={class:"text-gray-900 dark:text-true_gray-300 text-sm font-medium truncate"},He={class:"flex-1 text-gray-900 mt-0 flex text-right"},Me=(0,r._)("svg",{class:"flex-shrink-0 mr-1.5 h-5 w-5 dark:text-true_gray-300",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[(0,r._)("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})],-1),Ue={class:"text-gray-900 dark:text-true_gray-300 text-sm font-medium truncate"},We={class:"flex-1 text-gray-900 flex w-full text-right"},Te=(0,r._)("svg",{class:"align flex-shrink-0 mr-1.5 h-5 w-5 dark:text-true_gray-300",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[(0,r._)("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),(0,r._)("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"})],-1),Be={class:"text-gray-900 dark:text-true_gray-300 text-sm font-medium truncate"},Fe={class:"w-5 h-5 ml-auto text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Ve=(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Le=[Ve],Ie={class:"w-5 h-5 ml-auto text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Ee=(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1),Pe=[Ee],Oe={class:"w-5 h-5 ml-auto text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Ae=(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),qe=[Ae],Ne={class:"-mt-px group flex divide-x divide-gray-200"},Ye={class:"w-0 flex-1 flex"},Qe=["disabled"],Ke={class:"h-5 w-5 text-gray-400 group-hover:text-gray-700 group-hover:rotate-90 transform transition group-hover:ease-in-out",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","aria-hidden":"true"},Ze=(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Re=[Ze],$e={class:"w-5 h-5 ml-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Ge=(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Je=[Ge],Xe={class:"w-5 h-5 ml-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},et=(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1),tt=[et],ot={class:"w-5 h-5 ml-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},nt=(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),rt=[nt],lt={class:"ml-3 text-md dark:text-true_gray-400 dark:group-hover:text-gray-700"};var st={props:{result:Object,index:Number},setup(e){const t=e,o=(0,l.iH)(0),s=(0,l.iH)("Add to playlist"),a=(0,l.iH)(!1),i=(0,r.Fl)((()=>{if(a.value)return"bg-proto_green text-custom_gray";switch(o.value){case 0:return"text-gray-700 hover:bg-proto_green hover:text-custom_gray";case 1:return"bg-green-700 text-green-500";case 2:return"bg-yellow-400 text-yellow-700";case 3:return"bg-red-500 text-red-900"}return"text-gray-700 hover:bg-proto_green hover:text-custom_gray"})),c=(0,r.Fl)((()=>{const e=t.result.views;return e>999&&e<1e6?(e/1e3).toFixed(1)+"k":e>1e6?(e/1e6).toFixed(1)+"M":e}));function d(){a.value=!0,g.emit("addVideoToQueue",t.result)}g.on("addVideoToQueue-callback",(e=>{a.value=!1,e.videoId==t.result.videoId&&(o.value=e.result?1:2,s.value=e.message)}));const u=e=>{e.style.opacity=0,e.style.transform="translateY(-50px)"},m=(e,o)=>{be.ZP.to(e,{opacity:1,ease:"back.out(1.4)",y:0,duration:.5,onComplete:o,delay:.1*t.index})};return(t,a)=>((0,r.wg)(),(0,r.j4)(n.uT,{onBeforeEnter:u,onEnter:m,appear:""},{default:(0,r.w5)((()=>[(0,r._)("li",{style:(0,v.j5)([{background:"url("+e.result.thumbnail+")"},{"background-repeat":"no-repeat","background-size":"cover","background-position":"center center"}]),class:"col-span-1 flex group flex-col text-center border-proto_blue border-l-4 rounded-sm shadow"},[(0,r._)("button",{disabled:0!=o.value,onClick:a[0]||(a[0]=e=>d()),class:(0,v.C_)([0!=o.value?"cursor-default":"group-hover:bg-opacity-60","flex-1 rounded-m border-t border-b border-r dark:border-gray-800 border-gray-400 flex flex-col px-8 py-4 bg-white dark:bg-true_gray-800 bg-opacity-80"])},[(0,r._)("h3",Ce,(0,v.zw)(e.result.title),1),(0,r._)("div",je,[(0,r._)("div",ze,[De,(0,r._)("span",Se,(0,v.zw)(e.result.author.name),1)]),(0,r._)("div",He,[Me,(0,r._)("span",Ue,(0,v.zw)(e.result.timestamp),1)]),(0,r._)("div",We,[Te,(0,r._)("span",Be,(0,v.zw)((0,l.SU)(c)),1),(0,r.wy)(((0,r.wg)(),(0,r.iD)("svg",Fe,Le,512)),[[n.F8,1==o.value]]),(0,r.wy)(((0,r.wg)(),(0,r.iD)("svg",Ie,Pe,512)),[[n.F8,2==o.value]]),(0,r.wy)(((0,r.wg)(),(0,r.iD)("svg",Oe,qe,512)),[[n.F8,3==o.value]])])])],10,_e),(0,r._)("div",null,[(0,r._)("div",Ne,[(0,r._)("div",Ye,[(0,r._)("button",{disabled:0===o.value,onClick:a[1]||(a[1]=e=>d()),class:(0,v.C_)([(0,l.SU)(i),"hidden group relative -mr-px w-0 flex-1 inline-flex items-center justify-center py-2 text-sm font-medium rounded-br-sm"])},[(0,r.wy)(((0,r.wg)(),(0,r.iD)("svg",Ke,Re,512)),[[n.F8,0==o.value]]),(0,r.wy)(((0,r.wg)(),(0,r.iD)("svg",$e,Je,512)),[[n.F8,1==o.value]]),(0,r.wy)(((0,r.wg)(),(0,r.iD)("svg",Xe,tt,512)),[[n.F8,2==o.value]]),(0,r.wy)(((0,r.wg)(),(0,r.iD)("svg",ot,rt,512)),[[n.F8,3==o.value]]),(0,r._)("span",lt,(0,v.zw)(s.value),1)],10,Qe)])])])],4)])),_:1}))}};const at=st;var it=at;const ct={class:"bg-proto_secondary_gray dark:bg-proto_secondary_gray-dark shadow overflow-hidden md:rounded-sm mt-4"},dt={class:"m-8"};function ut(e,t){return(0,r.wg)(),(0,r.iD)("div",ct,[(0,r._)("div",dt,[(0,r.WI)(e.$slots,"default")])])}const mt={},gt=(0,x.Z)(mt,[["render",ut]]);var vt=gt;const pt={key:0},wt={class:"block text-gray-200"},xt={class:"flex items-center px-4 py-4 sm:px-6"},ft={class:"min-w-0 mx-auto flex items-center text-3xl mb-1"},ht=(0,r._)("span",{class:"text-white dark:text-proto_background_gray-dark"},"Start searching",-1),kt=(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1),yt=[kt];var bt={setup(e){const t=(0,l.iH)([]),o=(0,l.iH)(!1);return g.on("displayVideos",(e=>{t.value=e,o.value=!1})),g.on("fetchVideos",(()=>{o.value=!0})),(e,n)=>((0,r.wg)(),(0,r.j4)(vt,null,{default:(0,r.w5)((()=>[(0,r._)("ul",{role:"list",class:(0,v.C_)([t.value.length>0?"md:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4":"","grid grid-cols-1 gap-6"])},[0===t.value.length?((0,r.wg)(),(0,r.iD)("li",pt,[(0,r._)("div",wt,[(0,r._)("div",xt,[(0,r._)("div",ft,[ht,((0,r.wg)(),(0,r.iD)("svg",{class:(0,v.C_)([o.value?"animate-bounce":"","w-14 h-14 mr-2 ml-10 mt-2 text-white dark:text-proto_background_gray-dark"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},yt,2))])])])])):(0,r.kq)("",!0),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.value,((e,t)=>((0,r.wg)(),(0,r.j4)(it,{result:e,index:t,key:e.videoId},null,8,["result","index"])))),128))],2)])),_:1}))}};const _t=bt;var Ct=_t;const jt={class:"max-w-5xl mx-6 sm:mx-auto"},zt=(0,r._)("h1",{class:"hidden mt-6 text-2xl text-gray-700 font-bold tracking-wider"}," Passcode ",-1),Dt={class:"flex flex-col"},St={class:"hidden mt-3 text-gray-700 space-x-3 inline-flex"},Ht=(0,r._)("h2",{class:"font-semibold"},"returned code:",-1),Mt={class:""},Ut={class:"mt-6 flex mx-auto space-x-3"},Wt=["id","onUpdate:modelValue"],Tt={class:"w-full h-full m-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},Bt=(0,r._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1),Ft=[Bt],Vt={class:"h-full w-full m-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Lt=(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1),It=[Lt],Et={class:"h-full w-full m-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Pt=(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1),Ot=[Pt],At={class:"text-red-600 bg-red-300 rounded-md flex justify-center text-center text-sm py-1 mt-3 -mb-1 mx-auto"},qt=(0,r._)("svg",{class:"w-3.5 mt-0.5 h-3.5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1);var Nt={setup(e){(0,r.bv)((()=>{y()}));const t=(0,l.qj)({0:null,1:null,2:null,3:null}),o=(0,l.iH)(null);var s,a,i;const c=(0,r.Fl)((()=>u.value&&!p.value?"bg-green-400 text-green-600":u.value||p.value?"bg-gray-400 text-gray-600":"bg-red-300 text-red-600")),d=(0,r.Fl)((()=>b()?j():null));var u=(0,l.iH)(null),m=(0,l.iH)(""),p=(0,l.iH)(!1);function w(e){if(i=e.target,9!=e.keyCode&&39!=e.keyCode||"code_3"==e.target.id?37==e.keyCode&&"code_0"!=e.target.id&&e.target.previousElementSibling.focus():e.target.nextElementSibling.focus(),e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105&&""!=e.target.value&&e.target.value.keyCode!=e.keyCode)switch(s=e.keyCode,e.target.value=e.key,i.id){case"code_0":t[0]=e.key;break;case"code_1":t[1]=e.key;break;case"code_2":t[2]=e.key;break;case"code_3":t[3]=e.key;break;default:t[0]=e.key;break}else e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105?s=e.keyCode:8==e.keyCode?(s=e.keyCode,a=e.target.value):e.preventDefault()}function x(e){s==e.keyCode&&8!=s&&""!=e.target.value?k(e):s==e.keyCode&&8==s&&""==a&&h(e)}function f(e){setTimeout((function(){e.target.selectionStart=e.target.value.length}),10)}function h(e){if("code_0"!=e.target.id)switch(e.target.previousElementSibling.focus(),i.id){case"code_0":t[0]=null;break;case"code_1":t[0]=null;break;case"code_2":t[1]=null;break;case"code_3":t[2]=null;break;default:t[0]=null;break}}function k(e){e.target.nextElementSibling.focus()}function y(){null!=o.value&&o.value.focus()}function b(){return null!==t[0]&&null!==t[1]&&null!==t[2]&&null!==t[3]&&""!==t[0]&&""!==t[1]&&""!==t[2]&&""!==t[3]&&(_(),!0)}function _(){p.value=!0,g.emit("pinEntered",j())}function C(){t[0]=null,t[1]=null,t[2]=null,t[3]=null}function j(){return t[0]+t[1]+t[2]+t[3]}return g.on("pinEntered-callback",(e=>{u.value=e.success,m.value=e.reason,p.value=!1,e.success||(C(),y())})),(e,o)=>((0,r.wg)(),(0,r.iD)("div",jt,[zt,(0,r._)("div",Dt,[(0,r._)("div",St,[Ht,(0,r._)("span",Mt,(0,v.zw)((0,l.SU)(d)),1)]),(0,r._)("div",Ut,[((0,r.wg)(),(0,r.iD)(r.HY,null,(0,r.Ko)(4,((e,o)=>(0,r.wy)((0,r._)("input",{key:o,id:"code_"+o,ref_for:!0,ref:"code_"+o,"onUpdate:modelValue":e=>(0,l.SU)(t)[o]=e,maxlength:"1",type:"text",inputmode:"numeric",pattern:"[0-9]",autocomplete:"off",style:{"caret-color":"transparent"},class:"w-12 h-16 rounded-md dark:bg-gray-50 shadow-md bg-gray-200 border-none text-center text-gray-800 font-bold text-4xl bg-opacity-50 select-none",tabindex:"1",onKeydown:w,onKeyup:x,onFocus:f},null,40,Wt),[[n.nr,(0,l.SU)(t)[o]]]))),64)),(0,r.wy)((0,r._)("div",{class:(0,v.C_)(["w-16 h-16 rounded-md flex items-center justify-center opacity-75 outline-none",(0,l.SU)(c)])},[(0,r.Wm)(n.uT,{name:"icon"},{default:(0,r.w5)((()=>[(0,r.wy)(((0,r.wg)(),(0,r.iD)("svg",Tt,Ft,512)),[[n.F8,(0,l.SU)(u)&&!(0,l.SU)(p)]])])),_:1}),(0,r.Wm)(n.uT,{name:"icon"},{default:(0,r.w5)((()=>[(0,r.wy)(((0,r.wg)(),(0,r.iD)("svg",Vt,It,512)),[[n.F8,!(0,l.SU)(u)&&!(0,l.SU)(p)]])])),_:1}),(0,r.wy)(((0,r.wg)(),(0,r.iD)("svg",Et,Ot,512)),[[n.F8,(0,l.SU)(p)]])],2),[[n.F8,(0,l.SU)(u)||(0,l.SU)(p)||0==(0,l.SU)(u)]])])]),(0,r.Wm)(n.uT,{name:"errormessage"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r._)("div",At,[qt,(0,r.Uk)(" "+(0,v.zw)((0,l.SU)(m)),1)],512),[[n.F8,0==(0,l.SU)(u)]])])),_:1})]))}};const Yt=Nt;var Qt=Yt;const Kt={class:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Zt={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Rt=(0,r._)("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-75 dark:bg-opacity-90 transition-opacity","aria-hidden":"true"},null,-1),$t=(0,r._)("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1),Gt={class:"inline-block text-xl dark:text-gray-50 align-bottom dark:bg-proto_background_gray-dark bg-white my-auto rounded-md px-6 pt-5 pb-4 w-full lg:w-8/12 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6"},Jt=(0,r.Uk)(" Connect to the protube display "),Xt=(0,r._)("div",{class:"text-sm ml-1 text-gray-400 pb-4"},"Enter the PIN on the protube screen",-1);var eo={setup(e){return(e,t)=>((0,r.wg)(),(0,r.iD)("div",Kt,[(0,r._)("div",Zt,[Rt,$t,(0,r._)("div",Gt,[Jt,Xt,(0,r.Wm)(Qt)])])]))}};const to=eo;var oo=to;const no={class:"max-w-sm w-full bg-white dark:bg-proto_secondary_gray-dark shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden"},ro={class:"p-4"},lo={class:"flex items-center"},so={class:"w-0 flex-1 flex justify-between"},ao={class:"w-5 h-5 mr-3 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},io=(0,r._)("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1),co=[io],uo={class:"w-5 h-5 mr-3 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},mo=(0,r._)("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1),go=[mo],vo={class:"w-5 h-5 mr-3 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},po=(0,r._)("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1),wo=[po],xo={class:"w-0 flex-1 text-sm font-medium text-gray-900 dark:text-gray-50"};var fo={props:{video:Object},setup(e){const t=e;return(e,o)=>((0,r.wg)(),(0,r.iD)("div",no,[(0,r._)("div",ro,[(0,r._)("div",lo,[(0,r._)("div",so,[(0,r.wy)(((0,r.wg)(),(0,r.iD)("svg",ao,co,512)),[[n.F8,1==t.video.result]]),(0,r.wy)(((0,r.wg)(),(0,r.iD)("svg",uo,go,512)),[[n.F8,0==t.video.result]]),(0,r.wy)(((0,r.wg)(),(0,r.iD)("svg",vo,wo,512)),[[n.F8,0!=t.video.result&&1!=t.video.result]]),(0,r._)("p",xo,(0,v.zw)(t.video.message),1)])])])]))}};const ho=fo;var ko=ho;const yo={"aria-live":"assertive",class:"fixed inset-0 flex px-4 py-6 pointer-events-none sm:p-6 items-start"},bo={class:"w-full flex flex-col items-center space-y-4"};var _o={setup(e){const t=(0,l.iH)([]);return g.on("addVideoToQueue-callback",(e=>{t.value.push(e),setTimeout((()=>{for(var o=0;o<t.value.length;o++)t.value[o].videoId===e.videoId&&t.value.splice(o,1)}),2500)})),(e,o)=>((0,r.wg)(),(0,r.iD)("div",yo,[(0,r._)("div",bo,[(0,r.Wm)(n.W3,{name:"list"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.value,(e=>((0,r.wg)(),(0,r.j4)(ko,{video:e,key:e.videoId},null,8,["video"])))),128))])),_:1})])]))}};const Co=_o;var jo=Co;const zo=window.io=o(46);var Do;let So=!1;function Ho(e){const t="http://localhost:3000/socket/remote";let o=localStorage.getItem("sessionID");Do=new zo(t,{auth:{token:e,sessionID:o},timeout:1e3,forceNew:!0,reconnection:!1,autoConnect:!1}),e||o?Mo(Do):So=!1}function Mo(e){e.connect(),g.on("fetchVideos",(t=>{if(""==t)return!1;e.emit("retrieveVideos",t,(e=>{e&&g.emit("displayVideos",e)}))})),g.on("addVideoToQueue",(t=>{if(""==t)return!1;e.emit("addVideoToQueue",t,(e=>{if(e)var o="Added successfully";else o="Video already at playlist!";g.emit("addVideoToQueue-callback",{result:e,message:o,videoId:t.videoId})}))})),e.on("session",(e=>{localStorage.setItem("sessionID",e)})),e.on("disconnect",(e=>{console.log(e),"io server disconnect"==e&&localStorage.removeItem("sessionID"),Do.disconnect(),Do.removeAllListeners(),g.emit("toggleLoginModalVisible",!0)})),e.on("connect_error",(e=>{So?So=!1:"Error: Not authorized"==e?g.emit("pinEntered-callback",{success:!1,reason:"PIN invalid"}):g.emit("pinEntered-callback",{success:!1,reason:"Unknown error"})})),e.on("connect",(()=>{g.emit("pinEntered-callback",{success:!0,reason:""}),setTimeout((function(){g.emit("toggleLoginModalVisible",!1)}),1e3)}))}function Uo(){Ho(),So=!0}g.on("pinEntered",(e=>{""!=e&&(So=!1,Ho(e))}));var Wo={setup(e){const t=(0,l.iH)(!0),o=(0,l.iH)(!1);return(0,r.bv)((()=>{Uo()})),g.on("toggleLoginModalVisible",(e=>{t.value=e,o.value=!1})),g.on("addVideoToQueue",(()=>{o.value=!0})),g.on("displayVideos",(()=>{o.value=!1})),g.on("fetchVideos",(()=>{o.value=!0})),g.on("addVideoToQueue-callback",(()=>{o.value=!1})),(e,l)=>((0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(n.uT,{name:"search",mode:"out-in",appear:""},{default:(0,r.w5)((()=>[(0,r.Wm)(ye)])),_:1}),(0,r.Wm)(n.uT,{name:"results",mode:"out-in",appear:""},{default:(0,r.w5)((()=>[(0,r.Wm)(Ct)])),_:1}),(0,r.Wm)(jo),(0,r.Wm)(n.uT,{name:"modal",appear:""},{default:(0,r.w5)((()=>[t.value?((0,r.wg)(),(0,r.j4)(oo,{key:0})):(0,r.kq)("",!0)])),_:1}),(0,r.Wm)(n.uT,{name:"modal",appear:""},{default:(0,r.w5)((()=>[o.value&&!t.value?((0,r.wg)(),(0,r.j4)(H,{key:0,opacity:70})):(0,r.kq)("",!0)])),_:1})]))}};const To=Wo;var Bo=To;const Fo={class:"md:flex-1"},Vo=(0,r._)("h3",{class:"leading-6 font-medium text-white text-2xl"},"Protube admin panel",-1),Lo=(0,r._)("div",{class:"mt-2 max-w-xl text-sm text-gray-200"},[(0,r._)("p",null,"With great power comes great responsibility")],-1),Io={class:"mt-4 leading-6 font-medium text-white md:text-6xl text-3xl"},Eo={class:"flex-shrink-0 mr-6 my-auto"},Po=["src"];var Oo={props:{username:String},setup(e){return(t,n)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",Fo,[Vo,Lo,(0,r._)("h2",Io,"Welcome "+(0,v.zw)(e.username),1)]),(0,r._)("div",Eo,[(0,r._)("img",{class:"w-30 h-0 md:h-32 object-cover flex-shrink-0 mx-auto",src:o(114)},null,8,Po)])],64))}};const Ao=Oo;var qo=Ao;const No=(0,r.Uk)(" t ");var Yo={setup(e){const t=(0,l.iH)("");return g.on("admin-socket-connect-success",(async()=>{var e=await G();t.value=e.username})),(e,o)=>((0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(k,null,{default:(0,r.w5)((()=>[(0,r.Wm)(qo,{username:t.value},null,8,["username"])])),_:1}),(0,r.Wm)(vt,null,{default:(0,r.w5)((()=>[No])),_:1}),(0,r.Wm)(re,{admin:!0})]))}};const Qo=Yo;var Ko=Qo;const Zo={key:0,"aria-live":"assertive",class:"fixed inset-0 flex px-4 py-6 pointer-events-none sm:p-6 items-start"},Ro={class:"w-full flex flex-col items-center space-y-4"},$o={class:"max-w-sm bg-white dark:bg-proto_secondary_gray-dark shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden"},Go={class:"p-4"},Jo={class:"flex text-2xl text-center"},Xo=(0,r._)("div",{class:"min-w-screen min-h-screen",id:"yt-player"},null,-1);var en={props:{screenCode:Number},setup(e){let t=["http://localhost:3000/socket.io/socket.io.min.js","/protube/js/screen.js","https://www.youtube.com/iframe_api"];for(let o=0;o<t.length;o++){let e=document.createElement("script");e.setAttribute("src",t[o]),document.head.appendChild(e)}return(t,o)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[e.screenCode?((0,r.wg)(),(0,r.iD)("div",Zo,[(0,r._)("div",Ro,[(0,r._)("div",$o,[(0,r._)("div",Go,[(0,r._)("div",Jo,(0,v.zw)(e.screenCode),1)])])])])):(0,r.kq)("",!0),Xo],64))}};const tn=en;var on=tn,nn={setup(e){const t=(0,l.iH)("0000");return g.on("admin-socket-connect-success",(async()=>{t.value=await $()})),g.on("admin-newscreencode",(e=>{t.value=e})),(e,o)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(on,{screenCode:t.value},null,8,["screenCode"]),(0,r.Wm)(re,{admin:!0})],64))}};const rn=nn;var ln=rn;const sn=[{path:"/remote",name:"Home",component:Bo},{path:"/remote/admin",name:"Admin Remote",component:Ko},{path:"/screen",name:"Screen",component:on},{path:"/screen/admin",name:"Admin Screen",component:ln}],an=(0,s.p7)({history:(0,s.PO)("/protube"),routes:sn});var cn=an;const dn=(0,n.ri)(u);dn.config.globalProperties.eventBus=g,dn.use(cn),dn.mount("#app")},114:function(e,t,o){e.exports=o.p+"img/logo_classic.1535ebbd.png"}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var l=t[n]={exports:{}};return e[n].call(l.exports,l,l.exports,o),l.exports}o.m=e,function(){var e=[];o.O=function(t,n,r,l){if(!n){var s=1/0;for(d=0;d<e.length;d++){n=e[d][0],r=e[d][1],l=e[d][2];for(var a=!0,i=0;i<n.length;i++)(!1&l||s>=l)&&Object.keys(o.O).every((function(e){return o.O[e](n[i])}))?n.splice(i--,1):(a=!1,l<s&&(s=l));if(a){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[n,r,l]}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/protube/"}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,l,s=n[0],a=n[1],i=n[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);if(i)var d=i(o)}for(t&&t(n);c<s.length;c++)l=s[c],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(d)},n=self["webpackChunkProTube"]=self["webpackChunkProTube"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(385)}));n=o.O(n)})();
//# sourceMappingURL=app.2e104dcf.js.map